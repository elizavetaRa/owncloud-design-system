import { Canvas, Meta, Story } from "@storybook/addon-docs"
import OcButton from "./OcButton.vue"

export const Button = args => ({
  components: { OcButton },
  data() {
    return {
      args: { ariaLabel: args.text, ...args },
    }
  },
  template: `<oc-button v-bind="args">{{args.text}}</oc-button>`,
})

<!--
export const ButtonWithIcon = args => ({
  components: { OcButton },
  data() {
    return {
      args: { ariaLabel: args.text, ...args },
    }
  },
  template: `<oc-button v-bind="args">{{args.text}}</oc-button>`,
})

export const ButtonGroup = args => ({
  components: { OcButton },
  data() {
    return {
      args: { ariaLabel: args.text, ...args },
    }
  },
  template: `<oc-button v-bind="args">{{args.text}}</oc-button>`,
})  -->

<Meta title="Atoms/Button/Examples" component={OcButton} />

# OcButton

Buttons are generally used for interface actions. Suitable for all-purpose use.

Defaults to appearance that has white background with blue border.
Filled appearance should be used only once per view for main call-to-action.
All buttons are built with a css grid which ensures that there will be a pre-defined gutter between all child items.

## Accessibility

### Distinction when to use a `<button>`, when to use an `<a>`

Regardless of the visual representation the following differentiation should be made if in doubt what to choose.

- an anchor/link changes the location, be it internally on the website, or to another resource/document/route.
- a button does change the state of the website, e.g.: adds, deletes, opens, ...

### Accessible name

The accessible name ([explainer for the term](https://developer.paciellogroup.com/blog/2017/04/what-is-an-accessible-name/)) of a button is derived from several sources. Right now, only two of them are relevant:

1. The value of the `aria-label` attribute
2. The text between the opening and closing tag, `<button>This text here</button>`

When an aria-label attribute exists, its value will override the button text. So in this case, the accessible name would be "foo": `<button aria-label="foo">Bar</button>`, although visual users will see "Bar". This difference between accessible name and visual name is a problem for a certain type of assistive technology ([explainer for the term](https://en.wikipedia.org/wiki/Assistive_technology)), this is why the [WCAG success criterion 2.5.3, "Label in name"](https://www.w3.org/TR/WCAG21/#label-in-name) exists. This difference should be avoided, if it can't, W3C recommends that the accessible name should start with visible label.

### Icon-only button

Every button has to have an accessible name. It cannot be provided by a text between the button tags (for example, because it is an icon button; see "Upload" example below), the accessible name has to be provided by `aria-label`.

## Examples

### Button variations

<Canvas>
  <Story
    name="Passive"
    args={{
      text: "Passive",
      variation: "passive",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Primary"
    args={{
      text: "Primary",
      variation: "primary",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Success"
    args={{
      text: "Success",
      variation: "success",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Warning"
    args={{
      text: "Warning",
      variation: "warning",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Danger"
    args={{
      text: "Danger",
      variation: "danger",
    }}
  >
    {Button.bind({})}
  </Story>
</Canvas>

### Button sizes

<Canvas>
  <Story
    name="Large"
    args={{
      text: "Large",
      size: "large",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Medium (default)"
    args={{
      text: "Medium (default)",
    }}
  >
    {Button.bind({})}
  </Story>
  <Story
    name="Small"
    args={{
      text: "Small",
      size: "small",
    }}
  >
    {Button.bind({})}
  </Story>
</Canvas>

### Button with icons

<!--
<Canvas></Canvas> -->

### Using buttons in a group

<!--
<Canvas></Canvas> -->

### All available button combinations

<!--
<Canvas></Canvas> -->
