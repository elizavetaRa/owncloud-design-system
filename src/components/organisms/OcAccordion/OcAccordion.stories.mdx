import { action } from "@storybook/addon-actions"
import { Canvas, Meta, Story } from "@storybook/addon-docs"

import OcAccordion from "./OcAccordion.vue"

<Meta title="Organisms/Accordion/Examples" component={OcAccordion} />

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { OcAccordion },
  template: `<oc-accordion v-bind="$props" />`,
  methods: { focus: action("focused"), input: action("input"), keydown: action("keydown") },
})

# Examples for OcAccordion


## Simple Example

```js
<oc-accordion :expand-first="true" :multiple="false" class="uk-width-1-2">
  <oc-accordion-item title="My accordion item" icon="folder">
    <p>
      I am the content of this accordion
    </p>
  </oc-accordion-item>
  <oc-accordion-item title="Something else with content" description="And a subtitle" icon="file">
      <oc-text-input label="Text" description-message="Enter some text!"></oc-text-input>
  </oc-accordion-item>
</oc-accordion>
```

## More advanced example, controlling the accordions' state from outside click actions

```js
<template>
  <div>
    <oc-grid gutter="small" class="oc-my">
      <div><oc-button size="small" @click="toggleItem(FIRST)">Toggle first</oc-button></div>
      <div><oc-button size="small" @click="toggleItem(SECOND)">Toggle second</oc-button></div>
      <div><oc-button size="small" @click="toggleItem(THIRD)">Toggle third</oc-button></div>
      <div><oc-button variation="primary" size="small" @click="expandAll()">Expand all</oc-button></div>
      <div><oc-button variation="danger" size="small" @click="collapseAll()">Collapse all</oc-button></div>
    </oc-grid>
    <div>
      <oc-accordion :expanded-ids="expandedIds" :multiple="true" mode="data" class="uk-width-1-2">
        <oc-accordion-item :id="FIRST" icon="filter_1" title="First accordion item">
          <p>Hello there.</p>
        </oc-accordion-item>
        <oc-accordion-item :id="SECOND" icon="filter_2" title="Second accordion item">
          <p>Hello here.</p>
        </oc-accordion-item>
        <oc-accordion-item :id="THIRD" icon="filter_3" title="Third accordion item">
          <p>Hello world.</p>
        </oc-accordion-item>
      </oc-accordion>
    </div>
  </div>
</template>
<script>
  export default {
    data() {
      return {
        expandedIds: [],
        FIRST: "first",
        SECOND: "second",
        THIRD: "third"
      }
    },
    methods: {
      toggleItem(id) {
        if (this.expandedIds.includes(id)) {
          this.expandedIds = this.expandedIds.filter(a => a !== id)
        } else {
          this.expandedIds.push(id)
        }
      },
      expandAll() {
        this.expandedIds = [this.FIRST, this.SECOND, this.THIRD]
      },
      collapseAll() {
        this.expandedIds = []
      }
    }
  }
</script>
```
